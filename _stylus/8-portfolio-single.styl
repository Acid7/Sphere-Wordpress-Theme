
// Portfolio Item Intro

html.is-loading
	.portfolio-item-intro .image-wrapper img
		transform scale(1.1)
		opacity 0
	#scroll-down
		transform translateX(-50%) translateY(-2rem)

.portfolio-item-intro
	width 100%
	height 100vh
	display flex
	.image-wrapper
		position fixed
		width 100%
		height 100vh
		img
			width 100%
			height 100%
			object-fit cover
			transition transform 3s cubic-bezier(0.13, 0.28, 0, 0.91), opacity 2s cubic-bezier(0.13, 0.28, 0, 0.91)

	.portfolio-item-overlay
		position absolute
		top 0
		left 0
		right 0
		bottom 0

	.post-title-wrapper
		position fixed
		top 0
		left 0
		right 0
		bottom 0
		display flex
		flex-wrap wrap
		align-items center
		align-content center
		justify-content center
		text-align center
		margin 0 var(--horizontal-rim)
		padding-top calc((2.5rem + var(--h2-line-height)) / 2)
		will-change transform, opacity
		.post-title
			width 100%
			margin 0
			font-size var(--xxl-font-size)
			line-height var(--xxl-line-height)
			text-shadow 0 0 .42em var(--text-shadow-color)
			transform translateZ(0)
		.post-category
			margin-bottom 0
			text-transform lowercase
			span:not(:first-child)
				margin-left .5em

	.portfolio-item-meta
		font-family var(--subheading-font)
		font-weight var(--subheading-font-weight)
		text-transform var(--subheading-transform)
		letter-spacing var(--subheading-spacing)
		font-size var(--xxl-subheading)
		position absolute
		bottom 0
		left 0
		right 0
		display flex
		flex-wrap wrap
		justify-content space-between
		align-items flex-end
		margin 0 var(--horizontal-rim) var(--vertical-rim)
		{transition-opacity}
		.portfolio-item-fields
			line-height 1.25
			.field:not(:last-child)
				margin-bottom .5rem
			span
				margin-right .6rem
				background-color var(--secondary-bg)
				padding-left .25rem

	.portfolio-item-link
		display inline-block
		text-decoration none
		margin-top 1.75rem
		position relative
		overflow hidden
		span
			display inline-block
			color var(--text-color)
			transition transform .3s, opacity .3s, color .3s
		&::after
			right 0
			opacity 0
			position absolute
			content attr(data-text)
			transform translateY(50%)
			color var(--secondary-color)
			transition transform .3s, opacity .3s, color .3s
		&:hover
			span
				opacity 0
				transform translateY(-50%)
			&::after
				opacity 1
				transform translateY(0)

#scroll-down
	position absolute
	bottom var(--vertical-rim)
	left 50%
	transform translateX(-50%)
	width var(--button-size)
	height var(--button-size)
	border 3px solid var(--text-color)
	border-radius 50%
	box-sizing content-box
	display flex
	align-items center
	justify-content center
	text-decoration none
	transition opacity .5s, background .4s, border-color .4s, transform 1s cubic-bezier(0.13, 0.28, 0, 0.91)
	&::before
		display inline-block
		font-family 'theme-icons'
		content '\f004'
		font-size var(--h5-font-size)
		margin-right -1px
		margin-bottom -1px
		{transition-color}
	&:hover
		cursor pointer
		background-color var(--text-color)
		color var(--bg-color)
	&:active
		opacity .6



// Content

body.single-portfolio .post-content
	padding-top var(--spacer-lg)
	padding-bottom var(--spacer-lg)
	background-color var(--bg-color)
	box-shadow inset 0 50px 50px -50px var(--box-shadow-color)



// Portfolio Scrolled

@media (min-width: 769px)
	body.scrolled.single-portfolio
		.portfolio-item-meta
		#scroll-down
			opacity 0.001 // Safari fix
		.portfolio-item-link
			pointer-events none
